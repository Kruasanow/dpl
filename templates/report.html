
{% extends "base.html" %}

{% block title %}Информация о DNS серверах{% endblock %}

{% block content %}
<div class="main-bg">
  <div class="bg">
    <!--==============================header=================================-->
    <header>
      <h3></h3><br><br><br>
    </header>
    <!--==============================content================================-->
    {% if show == True %}
    <br><br>
    <p class="theme">Графики зависимости времени отклика DNS сервера от количества пакетов</p>
    <div class="main_block">
      {% for i in graph %}
      <div class="blocks_main1">
        <img class="gr_style"  src="data:image/png;base64,{{ i }}" alt=".">
      </div>
{% endfor %}
      <br><br>
    </div>
    <p class="theme">Круговая диаграмма распределения общего числа DNS пакетов и DNS BIND серверов</p>
    <div class="blocks_main2">
      <img class="gr_style1"  src="data:image/png;base64,{{ cir1 }}" alt=".">
      <img class="gr_style1"  src="data:image/png;base64,{{ cir }}" alt=".">
    </div>
{% endif %}
    <br><br>
    <p class="theme">Отфильтрованные из общего трафика DNS пакеты </p>
    <div class="indent-traffic">
      {% for i in sd %}
        {% if i[4]|int is jinja_is_prime%}
        <p class="division_0">{{i}}</p>
        {% else %}
        {{i}}
        {% endif %}
      {% endfor %}
    </div>
{% if show == True %} 
    <p class="theme">Расширенная информация по DNS серверам</p>
    <section id="content">
      <table class="tabletvar">
        <tr>
          <th>DNS-сервер</th>
          <th>Сумма пакетов</th>
          <th>Рекурсия</th>
          <th>Среднее время</th>
          <th>Средний TTL</th>
          <th>FQDN запроса</th>
          <th>Транк</th>
          <th>Осиротевшие пакеты</th>
          <th>Ошибки (RCODE)</th>
          <th>Врема добавления</th>
        </tr>
          {% for i in case %}
        <tr>
          {% for j in i %}
          <td>
              {{ j }}
          </td> 
            {% endfor %}
        </tr>
          {% endfor  %}
      </table>
      <table class="tabletvar">
        <tr>
          <th>DNS-сервер</th>
          <th>FQDN запроса</th>
          <th>IP-адрес (A-record)</th>
          <th>Порядок приема</th>
          <th>Тип запроса</th>
          <th>Класс запроса</th>
          <th>Тип ответа</th>
          <th>Класс ответа</th>
          <th>Opcode</th>
          <th>Количество ответов</th>
          <th>Количество запросов</th>
          <th>SOA-refresh</th>
          <th>SOA-expire-limit</th>
          <th>SOA-min-ttl</th>
        </tr>
        
          {% for i in case2 %}
        <tr>
          {% for j in i %}
          <td>
              {{ j }}
          </td> 
            {% endfor %}
        </tr>
          {% endfor  %}
      </table>
    </div></div>
    {% endif %}
    {% endblock %}